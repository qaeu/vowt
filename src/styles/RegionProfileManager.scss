@use 'theme' as *;

@layer screen {
	#region-profile-manager-screen {
		@include container;

		&.dragging {
			background-color: rgba($primary, 0.02);
		}

		.info-box {
			@include info-box(get($accent, 'bg-dark'), get($accent, 'sep'));
			margin-bottom: 30px;
		}

		.manager-layout {
			display: grid;
			grid-template-columns: 1fr;
			gap: 10px;
			margin-bottom: 30px;
		}

		.section {
			@include card($background);
			border: 1px solid get($neutral, 'sep');
			padding: 20px;
			border-radius: 8px;
		}

		.button-group {
			flex-wrap: wrap;

			button {
				&.action-btn.active:not(:disabled) {
					background-color: get($success, 'base');
					color: white;
					border-color: get($success, 'border');
				}

				&.action-btn.delete {
					@include button($error);
				}

				&.save-profile {
					@include button($success);
				}

				&.clear-regions {
					@include button($error);
				}
			}
		}

		.canvas-wrapper {
			@include card($background);
			border: 2px solid $primary;
			margin: 20px 0;
			border-radius: 4px;
			overflow: hidden;
			position: relative;

			canvas {
				display: block;
				width: 100%;
				border: 1px solid get($neutral, 'sep');
				border-radius: 4px;
			}

			.drag-overlay {
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background-color: rgba($primary, 0.1);
				border: 2px dashed $primary;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 18px;
				font-weight: 600;
				color: $primary;
				pointer-events: none;
			}
		}

		.regions-display {
			@include card(get($success, 'bg-dark'));
			border: 1px solid get($success, 'sep');
			border-radius: 4px;
			padding: 15px;
			margin-top: 20px;

			h3 {
				color: get($success, 'base');
			}

			pre {
				@include code-block(get($neutral, 'bg-light'), get($success, 'sep'));
				font-size: 11px;
				line-height: 1.4;
				max-height: 300px;
				overflow-y: auto;
			}
		}

		.profile-actions {
			display: flex;
			flex-direction: column;
			gap: 15px;
		}

		.input-label {
			display: block;
			font-size: 13px;
			font-weight: 600;
			color: $foreground;
			margin-bottom: 6px;
			text-transform: uppercase;
			letter-spacing: 0.5px;
		}

		.profile-input {
			width: 100%;
			border: 0;
			padding: 12px;
			font-size: 14px;
			box-sizing: border-box;
			background-color: transparent;
			color: $foreground;
			transition: all 0.15s ease;

			&:hover {
				background-color: $background;
				border-color: get($neutral, 'sep');
			}

			&:focus {
				outline: none;
				background-color: get($neutral, 'bg');
				border-color: get($accent, 'sep');
				box-shadow: 0 0 0 1px rgba(90, 127, 163, 0.2);
			}

			&:disabled,
			&.disabled {
				background-color: $background;
				color: get($accent, 'fg-light');
				cursor: not-allowed;
			}
		}

		.profile-textarea {
			width: 100%;
			border: 0;
			padding: 12px;
			box-sizing: border-box;
			background-color: transparent;
			color: $foreground;
			min-height: 80px;
			resize: vertical;
			transition: all 0.15s ease;

			&:hover {
				background-color: $background;
				border-color: get($neutral, 'sep');
			}

			&:focus {
				outline: none;
				background-color: get($neutral, 'bg');
				border-color: $primary;
				box-shadow: 0 0 0 1px rgba(90, 127, 163, 0.2);
			}
		}

		.profiles-list {
			display: flex;
			flex-direction: column;
			gap: 15px;
		}

		.profile-card {
			@include card(get($neutral, 'bg'));

			margin-bottom: 15px;
			border: 2px solid get($neutral, 'sep');
			border-radius: 8px;
			padding: 15px;
			transition: all 0.2s ease;

			&:hover {
				border-color: $primary;
				box-shadow: 0 2px 8px rgba($primary, 0.1);
			}

			&.active {
				border-color: get($success, 'base');
				background-color: rgba(get($success, 'base'), 0.05);
			}

			.profile-header {
				display: flex;
				justify-content: space-between;
				align-items: center;

				h3 {
					flex: 1;
				}
			}

			.profile-description {
				margin: 0 0 22px;
				font-size: 13px;
				color: get($accent, 'fg-light');
				min-height: 18px;
			}
		}

		.empty-state {
			text-align: center;
			color: get($accent, 'fg-light');
			padding: 40px 20px;
			font-style: italic;
		}
	}
}
